<div class="prewarm_settings">
    <div class="inline-drawer">
        <div class="inline-drawer-toggle inline-drawer-header">
            <b data-i18n="Context Prewarm">Context Prewarm</b>
            <div class="inline-drawer-icon fa-solid fa-circle-chevron-down down"></div>
        </div>
        <div class="inline-drawer-content">
            <div class="flex-container flexFlowColumn">
                <label class="checkbox_label" for="prewarm_enabled">
                    <input type="checkbox" id="prewarm_enabled" />
                    <span data-i18n="Enable Context Prewarm">Enable Context Prewarm</span>
                </label>
                <small data-i18n="prewarm_description">
                    Automatically sends a message and cancels it after AI generation completes.
                    This pre-warms the KV cache on local LLM endpoints, making your next message much faster.
                </small>
                
                <hr class="sysHR">
                
                <div class="flex-container">
                    <label for="prewarm_mode">
                        <span data-i18n="Prewarm Mode">Prewarm Mode:</span>
                    </label>
                    <select id="prewarm_mode" class="text_pole widthNatural">
                        <option value="user_msg" data-i18n="User Message">User Message (recommended)</option>
                        <option value="quiet" data-i18n="Quiet/Continue">Quiet/Continue (AI continue style)</option>
                    </select>
                </div>
                <small data-i18n="prewarm_mode_description">
                    <b>User Message:</b> Simulates sending a user message then cancels. Best for most setups.<br>
                    <b>Quiet/Continue:</b> Uses background generation like AI continue. Try this if User Message doesn't work.
                </small>
                
                <div id="prewarm_message_container" class="flex-container">
                    <label for="prewarm_message">
                        <span data-i18n="Prewarm Message">Prewarm Message:</span>
                    </label>
                    <input type="text" id="prewarm_message" class="text_pole widthNatural" placeholder="." />
                </div>
                <small id="prewarm_message_help" data-i18n="prewarm_message_description">
                    The temporary message sent during prewarm. It will be deleted after. A single dot (.) is minimal.
                </small>
                
                <hr class="sysHR">
                
                <div class="flex-container">
                    <label for="prewarm_delay">
                        <span data-i18n="Delay before cancel (ms)">Delay before cancel (ms):</span>
                    </label>
                    <input type="number" id="prewarm_delay" class="text_pole widthNatural" min="100" max="5000" step="100" />
                </div>
                <small data-i18n="prewarm_delay_description">
                    Time to wait before canceling the prewarm request. This should be long enough for the context to be sent to the endpoint.
                    Default: 500ms. Increase if prewarm isn't working.
                </small>
            </div>
        </div>
    </div>
</div>
